(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[8771],{8771:(e,n,t)=>{"use strict";t.r(n),t.d(n,{CommandIDs:()=>b,createEditMenu:()=>p,createFileMenu:()=>_,createKernelMenu:()=>h,createViewMenu:()=>E,createRunMenu:()=>C,createTabsMenu:()=>w,default:()=>v});var l=t(67599),a=t(18477),r=t(78548),d=t(86942),o=t(13240),u=t(2832),s=t(57630),i=t(79028),c=t(66065),m=t(77031);const g="@jupyterlab/mainmenu-extension:plugin";var b;function p(e,n,t){const l=e.commands;l.addCommand(b.undo,{label:t.__("Undo"),isEnabled:x.delegateEnabled(e,n.undoers,"undo"),execute:x.delegateExecute(e,n.undoers,"undo")}),l.addCommand(b.redo,{label:t.__("Redo"),isEnabled:x.delegateEnabled(e,n.undoers,"redo"),execute:x.delegateExecute(e,n.undoers,"redo")}),l.addCommand(b.clearCurrent,{label:()=>{const l=x.delegateEnabled(e,n.clearers,"clearCurrent")();let a=t.__("Clear");return l&&(a=x.delegateLabel(e,n.clearers,"clearCurrentLabel")),a},isEnabled:x.delegateEnabled(e,n.clearers,"clearCurrent"),execute:x.delegateExecute(e,n.clearers,"clearCurrent")}),l.addCommand(b.clearAll,{label:()=>{const l=x.delegateEnabled(e,n.clearers,"clearAll")();let a=t.__("Clear All");return l&&(a=x.delegateLabel(e,n.clearers,"clearAllLabel")),a},isEnabled:x.delegateEnabled(e,n.clearers,"clearAll"),execute:x.delegateExecute(e,n.clearers,"clearAll")}),l.addCommand(b.goToLine,{label:t.__("Go to Line…"),isEnabled:x.delegateEnabled(e,n.goToLiners,"goToLine"),execute:x.delegateExecute(e,n.goToLiners,"goToLine")})}function _(e,n,t,l){const d=e.commands;d.addCommand(b.closeAndCleanup,{label:()=>x.delegateLabel(e,n.closeAndCleaners,"closeAndCleanupLabel")||l.__("Close and Shutdown"),isEnabled:()=>!!e.shell.currentWidget&&!!e.shell.currentWidget.title.closable,execute:()=>x.delegateEnabled(e,n.closeAndCleaners,"closeAndCleanup")()?x.delegateExecute(e,n.closeAndCleaners,"closeAndCleanup")():e.commands.execute("application:close")}),d.addCommand(b.createConsole,{label:()=>x.delegateLabel(e,n.consoleCreators,"createConsoleLabel")||l.__("New Console for Activity"),isEnabled:x.delegateEnabled(e,n.consoleCreators,"createConsole"),execute:x.delegateExecute(e,n.consoleCreators,"createConsole")}),d.addCommand(b.shutdown,{label:l.__("Shut Down"),caption:l.__("Shut down JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>(0,a.showDialog)({title:l.__("Shutdown confirmation"),body:l.__("Please confirm you want to shut down JupyterLab."),buttons:[a.Dialog.cancelButton(),a.Dialog.warnButton({label:l.__("Shut Down")})]}).then((e=>{if(e.button.accept){const e=o.ServerConnection.makeSettings(),n=r.URLExt.join(e.baseUrl,"api/shutdown");return o.ServerConnection.makeRequest(n,{method:"POST"},e).then((e=>{if(!e.ok)throw new o.ServerConnection.ResponseError(e);{const e=document.createElement("div"),n=document.createElement("p");n.textContent=l.__("You have shut down the Jupyter server. You can now close this tab.");const t=document.createElement("p");t.textContent=l.__("To use JupyterLab again, you will need to relaunch it."),e.appendChild(n),e.appendChild(t),(0,a.showDialog)({title:l.__("Server stopped"),body:new m.Widget({node:e}),buttons:[]}),window.close()}})).catch((e=>{throw new o.ServerConnection.NetworkError(e)}))}}))}),d.addCommand(b.logout,{label:l.__("Log Out"),caption:l.__("Log out of JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>{t.navigate("/logout",{hard:!0})}})}function h(e,n,t){const l=e.commands;l.addCommand(b.interruptKernel,{label:t.__("Interrupt Kernel"),isEnabled:x.delegateEnabled(e,n.kernelUsers,"interruptKernel"),execute:x.delegateExecute(e,n.kernelUsers,"interruptKernel")}),l.addCommand(b.reconnectToKernel,{label:t.__("Reconnect to Kernel"),isEnabled:x.delegateEnabled(e,n.kernelUsers,"reconnectToKernel"),execute:x.delegateExecute(e,n.kernelUsers,"reconnectToKernel")}),l.addCommand(b.restartKernel,{label:t.__("Restart Kernel…"),isEnabled:x.delegateEnabled(e,n.kernelUsers,"restartKernel"),execute:x.delegateExecute(e,n.kernelUsers,"restartKernel")}),l.addCommand(b.restartKernelAndClear,{label:()=>{const l=x.delegateEnabled(e,n.kernelUsers,"restartKernelAndClear")();let a=t.__("Restart Kernel and Clear…");return l&&(a=x.delegateLabel(e,n.kernelUsers,"restartKernelAndClearLabel")),a},isEnabled:x.delegateEnabled(e,n.kernelUsers,"restartKernelAndClear"),execute:x.delegateExecute(e,n.kernelUsers,"restartKernelAndClear")}),l.addCommand(b.changeKernel,{label:t.__("Change Kernel…"),isEnabled:x.delegateEnabled(e,n.kernelUsers,"changeKernel"),execute:x.delegateExecute(e,n.kernelUsers,"changeKernel")}),l.addCommand(b.shutdownKernel,{label:t.__("Shut Down Kernel"),isEnabled:x.delegateEnabled(e,n.kernelUsers,"shutdownKernel"),execute:x.delegateExecute(e,n.kernelUsers,"shutdownKernel")}),l.addCommand(b.shutdownAllKernels,{label:t.__("Shut Down All Kernels…"),isEnabled:()=>void 0!==e.serviceManager.sessions.running().next(),execute:()=>(0,a.showDialog)({title:t.__("Shut Down All?"),body:t.__("Shut down all kernels?"),buttons:[a.Dialog.cancelButton({label:t.__("Dismiss")}),a.Dialog.warnButton({label:t.__("Shut Down All")})]}).then((n=>{if(n.button.accept)return e.serviceManager.sessions.shutdownAll()}))})}function E(e,n,t){const l=e.commands;l.addCommand(b.lineNumbering,{label:t.__("Show Line Numbers"),isEnabled:x.delegateEnabled(e,n.editorViewers,"toggleLineNumbers"),isToggled:x.delegateToggled(e,n.editorViewers,"lineNumbersToggled"),execute:x.delegateExecute(e,n.editorViewers,"toggleLineNumbers")}),l.addCommand(b.matchBrackets,{label:t.__("Match Brackets"),isEnabled:x.delegateEnabled(e,n.editorViewers,"toggleMatchBrackets"),isToggled:x.delegateToggled(e,n.editorViewers,"matchBracketsToggled"),execute:x.delegateExecute(e,n.editorViewers,"toggleMatchBrackets")}),l.addCommand(b.wordWrap,{label:t.__("Wrap Words"),isEnabled:x.delegateEnabled(e,n.editorViewers,"toggleWordWrap"),isToggled:x.delegateToggled(e,n.editorViewers,"wordWrapToggled"),execute:x.delegateExecute(e,n.editorViewers,"toggleWordWrap")})}function C(e,n,t){const l=e.commands;l.addCommand(b.run,{label:()=>{const l=x.delegateLabel(e,n.codeRunners,"runLabel");return x.delegateEnabled(e,n.codeRunners,"run")()?l:t.__("Run Selected")},isEnabled:x.delegateEnabled(e,n.codeRunners,"run"),execute:x.delegateExecute(e,n.codeRunners,"run")}),l.addCommand(b.runAll,{label:()=>{let l=t.__("Run All");return x.delegateEnabled(e,n.codeRunners,"runAll")()&&(l=x.delegateLabel(e,n.codeRunners,"runAllLabel")),l},isEnabled:x.delegateEnabled(e,n.codeRunners,"runAll"),execute:x.delegateExecute(e,n.codeRunners,"runAll")}),l.addCommand(b.restartAndRunAll,{label:()=>{let l=t.__("Restart Kernel and Run All");return x.delegateEnabled(e,n.codeRunners,"restartAndRunAll")()&&(l=x.delegateLabel(e,n.codeRunners,"restartAndRunAllLabel")),l},isEnabled:x.delegateEnabled(e,n.codeRunners,"restartAndRunAll"),execute:x.delegateExecute(e,n.codeRunners,"restartAndRunAll")})}function w(e,n,t,l){const a=e.commands,r=[];let d;a.addCommand(b.activateById,{label:n=>{const t=n.id||"",l=(0,i.find)(e.shell.widgets("main"),(e=>e.id===t));return l&&l.title.label||""},isToggled:n=>{const t=n.id||"";return!!e.shell.currentWidget&&e.shell.currentWidget.id===t},execute:n=>e.shell.activateById(n.id||"")});let o="";a.addCommand(b.activatePreviouslyUsedTab,{label:l.__("Activate Previously Used Tab"),isEnabled:()=>!!o,execute:()=>a.execute(b.activateById,{id:o})}),t&&e.restored.then((()=>{const l=()=>{d&&!d.isDisposed&&d.dispose(),r.length=0;let t=!1;(0,i.each)(e.shell.widgets("main"),(e=>{e.id===o&&(t=!0),r.push({command:b.activateById,args:{id:e.id}})})),d=n.addGroup(r,1),o=t?o:""};l(),t.layoutModified.connect((()=>{l()})),t.currentChanged.connect(((e,n)=>{const t=n.oldValue;t&&(o=t.id)}))}))}!function(e){e.openEdit="editmenu:open",e.undo="editmenu:undo",e.redo="editmenu:redo",e.clearCurrent="editmenu:clear-current",e.clearAll="editmenu:clear-all",e.find="editmenu:find",e.goToLine="editmenu:go-to-line",e.openFile="filemenu:open",e.closeAndCleanup="filemenu:close-and-cleanup",e.createConsole="filemenu:create-console",e.shutdown="filemenu:shutdown",e.logout="filemenu:logout",e.openKernel="kernelmenu:open",e.interruptKernel="kernelmenu:interrupt",e.reconnectToKernel="kernelmenu:reconnect-to-kernel",e.restartKernel="kernelmenu:restart",e.restartKernelAndClear="kernelmenu:restart-and-clear",e.changeKernel="kernelmenu:change",e.shutdownKernel="kernelmenu:shutdown",e.shutdownAllKernels="kernelmenu:shutdownAll",e.openView="viewmenu:open",e.wordWrap="viewmenu:word-wrap",e.lineNumbering="viewmenu:line-numbering",e.matchBrackets="viewmenu:match-brackets",e.openRun="runmenu:open",e.run="runmenu:run",e.runAll="runmenu:run-all",e.restartAndRunAll="runmenu:restart-and-run-all",e.runAbove="runmenu:run-above",e.runBelow="runmenu:run-below",e.openTabs="tabsmenu:open",e.activateById="tabsmenu:activate-by-id",e.activatePreviouslyUsedTab="tabsmenu:activate-previously-used-tab",e.openSettings="settingsmenu:open",e.openHelp="helpmenu:open",e.openFirst="mainmenu:open-first"}(b||(b={}));const v={id:g,requires:[l.IRouter,s.ITranslator],optional:[a.ICommandPalette,l.ILabShell,u.ISettingRegistry],provides:d.IMainMenu,activate:async(e,n,t,l,a,o)=>{const{commands:u}=e,s=t.load("jupyterlab"),i=new d.MainMenu(u);i.id="jp-MainMenu",i.addClass("jp-scrollbar-tiny"),o&&await x.loadSettingsMenu(o,(e=>{i.addMenu(e,{rank:e.rank})}),(e=>d.MainMenu.generateMenu(u,e,s)),t);const c=r.PageConfig.getOption("quitButton").toLowerCase();i.fileMenu.quitEntry="true"===c,p(e,i.editMenu,s),_(e,i.fileMenu,n,s),h(e,i.kernelMenu,s),C(e,i.runMenu,s),E(e,i.viewMenu,s),a&&w(e,i.tabsMenu,a,s);const m=e=>{i.activeMenu=e,i.openActiveMenu()};return u.addCommand(b.openEdit,{label:s.__("Open Edit Menu"),execute:()=>m(i.editMenu)}),u.addCommand(b.openFile,{label:s.__("Open File Menu"),execute:()=>m(i.fileMenu)}),u.addCommand(b.openKernel,{label:s.__("Open Kernel Menu"),execute:()=>m(i.kernelMenu)}),u.addCommand(b.openRun,{label:s.__("Open Run Menu"),execute:()=>m(i.runMenu)}),u.addCommand(b.openView,{label:s.__("Open View Menu"),execute:()=>m(i.viewMenu)}),u.addCommand(b.openSettings,{label:s.__("Open Settings Menu"),execute:()=>m(i.settingsMenu)}),u.addCommand(b.openTabs,{label:s.__("Open Tabs Menu"),execute:()=>m(i.tabsMenu)}),u.addCommand(b.openHelp,{label:s.__("Open Help Menu"),execute:()=>m(i.helpMenu)}),u.addCommand(b.openFirst,{label:s.__("Open First Menu"),execute:()=>{i.activeIndex=0,i.openActiveMenu()}}),l&&(l.addItem({command:b.shutdown,category:s.__("Main Area")}),l.addItem({command:b.logout,category:s.__("Main Area")}),l.addItem({command:b.shutdownAllKernels,category:s.__("Kernel Operations")}),l.addItem({command:b.activatePreviouslyUsedTab,category:s.__("Main Area")})),e.shell.add(i,"menu",{rank:100}),i}};var x;!function(e){function n(e,n){for(const t of e)if(n(t))return t}async function t(e){(await(0,a.showDialog)({title:e.__("Information"),body:e.__("Menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[a.Dialog.cancelButton(),a.Dialog.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.delegateLabel=function(e,t,l){const a=e.shell.currentWidget,r=a?n(t,(e=>e.tracker.has(a))):void 0;if(r){const e=r.tracker.size;return r[l](e)}return""},e.delegateExecute=function(e,t,l){return()=>{const a=e.shell.currentWidget,r=a?n(t,(e=>e.tracker.has(a))):void 0;return r?(0,r[l])(a):Promise.resolve(void 0)}},e.delegateEnabled=function(e,t,l){return()=>{const a=e.shell.currentWidget,r=a?n(t,(e=>e.tracker.has(a))):void 0;return!!r&&!!r[l]&&(!r.isEnabled||!a||r.isEnabled(a))}},e.delegateToggled=function(e,t,l){return()=>{const a=e.shell.currentWidget,r=a?n(t,(e=>e.tracker.has(a))):void 0;return!!(r&&r[l]&&a&&r[l](a))}},e.loadSettingsMenu=async function(e,n,l,r){var d;const o=r.load("jupyterlab");let s,i={};function m(n){var t,l;i={},n.properties.menus.default=Object.keys(e.plugins).map((n=>{var t,l;const a=null!==(l=null===(t=e.plugins[n].schema["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==l?l:[];return i[n]=a,a})).concat([null!==(l=null===(t=n["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==l?l:[],n.properties.menus.default]).reduceRight(((e,n)=>u.SettingRegistry.reconcileMenus(e,n,!0)),[]).sort(((e,n)=>{var t,l;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(l=n.rank)&&void 0!==l?l:1/0)}))}e.transform(g,{compose:e=>{var n,t,l,a;s||(s=c.JSONExt.deepCopy(e.schema),m(s));const r=null!==(l=null===(t=null===(n=s.properties)||void 0===n?void 0:n.menus)||void 0===t?void 0:t.default)&&void 0!==l?l:[],d={menus:null!==(a=e.data.user.menus)&&void 0!==a?a:[]},o={menus:u.SettingRegistry.reconcileMenus(r,d.menus)};return e.data={composite:o,user:d},e},fetch:e=>(s||(s=c.JSONExt.deepCopy(e.schema),m(s)),{data:e.data,id:e.id,raw:e.raw,schema:s,version:e.version})}),s=null;const b=await e.load(g),p=null!==(d=c.JSONExt.deepCopy(b.composite.menus))&&void 0!==d?d:[],_=new Array;a.MenuFactory.createMenus(p.filter((e=>!e.disabled)).map((e=>{var n;return Object.assign(Object.assign({},e),{items:u.SettingRegistry.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])})})),l).forEach((e=>{_.push(e),n(e)})),b.changed.connect((()=>{var e;const n=null!==(e=b.composite.menus)&&void 0!==e?e:[];c.JSONExt.deepEqual(p,n)||t(o)})),e.pluginChanged.connect((async(r,d)=>{var s,m,b;if(d!==g){const r=null!==(s=i[d])&&void 0!==s?s:[],g=null!==(b=null===(m=e.plugins[d].schema["jupyter.lab.menus"])||void 0===m?void 0:m.main)&&void 0!==b?b:[];if(!c.JSONExt.deepEqual(r,g))if(i[d])await t(o);else{i[d]=c.JSONExt.deepCopy(g);const e=u.SettingRegistry.reconcileMenus(g,p,!1,!1).filter((e=>!e.disabled)).map((e=>{var n;return Object.assign(Object.assign({},e),{items:u.SettingRegistry.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])})}));a.MenuFactory.updateMenus(_,e,l).forEach((e=>{n(e)}))}}}))}}(x||(x={}))}}]);
//# sourceMappingURL=8771.785b148d21b6e50a72bf.js.map