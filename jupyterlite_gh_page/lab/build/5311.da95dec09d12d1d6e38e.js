(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[5311],{45311:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var o,n=a(67599),i=a(18477),r=a(78548),l=a(41434),s=a(2832),d=a(44011),c=a(57630),u=a(65995),p=a(62867),g=a(9727),b=a(76487),m=a(61389),v=a(2411);!function(e){e.activateNextTab="application:activate-next-tab",e.activatePreviousTab="application:activate-previous-tab",e.activateNextTabBar="application:activate-next-tab-bar",e.activatePreviousTabBar="application:activate-previous-tab-bar",e.close="application:close",e.closeOtherTabs="application:close-other-tabs",e.closeRightTabs="application:close-right-tabs",e.closeAll="application:close-all",e.setMode="application:set-mode",e.toggleMode="application:toggle-mode",e.toggleLeftArea="application:toggle-left-area",e.toggleRightArea="application:toggle-right-area",e.togglePresentationMode="application:toggle-presentation-mode",e.tree="router:tree",e.switchSidebar="sidebar:switch"}(o||(o={}));const h={id:"@jupyterlab/application-extension:commands",autoStart:!0,requires:[c.ITranslator],optional:[n.ILabShell,i.ICommandPalette],activate:(e,t,a,i)=>{const{commands:l,shell:s}=e,d=t.load("jupyterlab"),c=d.__("Main Area");l.addCommand(n.JupyterFrontEndContextMenu.contextMenu,{label:d.__("Shift+Right Click for Browser Menu"),isEnabled:()=>!1,execute:()=>{}});const u=()=>{const t=e.contextMenuHitTest((e=>!!e.dataset.id));if(!t)return s.currentWidget;const a=(0,p.toArray)(s.widgets("main")).filter((e=>e.id===t.dataset.id));return a.length<1?s.currentWidget:a[0]},g=e=>{e.forEach((e=>e.close()))},b=(e,t)=>{switch(e.type){case"split-area":{const a=(0,p.iter)(e.children);let o,n=null;do{o=a.next(),o&&(n=b(o,t))}while(!n&&o);return n}case"tab-area":{const{id:a}=t;return e.widgets.some((e=>e.id===a))?e:null}default:return null}},m=e=>{const{id:t}=e,o=(e=>{var t;const o=null==a?void 0:a.saveLayout(),n=null==o?void 0:o.mainArea;if(!n||"multiple-document"!==r.PageConfig.getOption("mode"))return null;const i=null===(t=n.dock)||void 0===t?void 0:t.main;return i?b(i,e):null})(e),n=o&&o.widgets||[],i=n.findIndex((e=>e.id===t));return i<0?[]:n.slice(i+1)};l.addCommand(o.close,{label:()=>d.__("Close Tab"),isEnabled:()=>{const e=u();return!!e&&e.title.closable},execute:()=>{const e=u();e&&e.close()}}),l.addCommand(o.closeOtherTabs,{label:()=>d.__("Close All Other Tabs"),isEnabled:()=>{const e=s.widgets("main");return!!e.next()&&!!e.next()},execute:()=>{const e=u();if(!e)return;const{id:t}=e,a=(0,p.toArray)(s.widgets("main")).filter((e=>e.id!==t));g(a)}}),l.addCommand(o.closeRightTabs,{label:()=>d.__("Close Tabs to Right"),isEnabled:()=>!!u()&&m(u()).length>0,execute:()=>{const e=u();e&&g(m(e))}}),a&&(l.addCommand(o.activateNextTab,{label:d.__("Activate Next Tab"),execute:()=>{a.activateNextTab()}}),l.addCommand(o.activatePreviousTab,{label:d.__("Activate Previous Tab"),execute:()=>{a.activatePreviousTab()}}),l.addCommand(o.activateNextTabBar,{label:d.__("Activate Next Tab Bar"),execute:()=>{a.activateNextTabBar()}}),l.addCommand(o.activatePreviousTabBar,{label:d.__("Activate Previous Tab Bar"),execute:()=>{a.activatePreviousTabBar()}}),l.addCommand(o.closeAll,{label:d.__("Close All Tabs"),execute:()=>{a.closeAll()}}),l.addCommand(o.toggleLeftArea,{label:()=>d.__("Show Left Sidebar"),execute:()=>{a.leftCollapsed?a.expandLeft():(a.collapseLeft(),a.currentWidget&&a.activateById(a.currentWidget.id))},isToggled:()=>!a.leftCollapsed,isVisible:()=>!a.isEmpty("left")}),l.addCommand(o.toggleRightArea,{label:()=>d.__("Show Right Sidebar"),execute:()=>{a.rightCollapsed?a.expandRight():(a.collapseRight(),a.currentWidget&&a.activateById(a.currentWidget.id))},isToggled:()=>!a.rightCollapsed,isVisible:()=>!a.isEmpty("right")}),l.addCommand(o.togglePresentationMode,{label:()=>d.__("Presentation Mode"),execute:()=>{a.presentationMode=!a.presentationMode},isToggled:()=>a.presentationMode,isVisible:()=>!0}),l.addCommand(o.setMode,{isVisible:e=>{const t=e.mode;return"single-document"===t||"multiple-document"===t},execute:e=>{const t=e.mode;if("single-document"!==t&&"multiple-document"!==t)throw new Error(`Unsupported application shell mode: ${t}`);a.mode=t}}),l.addCommand(o.toggleMode,{label:d.__("Simple Interface"),isToggled:()=>"single-document"===a.mode,execute:()=>{const e="multiple-document"===a.mode?{mode:"single-document"}:{mode:"multiple-document"};return l.execute(o.setMode,e)}})),i&&[o.activateNextTab,o.activatePreviousTab,o.activateNextTabBar,o.activatePreviousTabBar,o.close,o.closeAll,o.closeOtherTabs,o.closeRightTabs,o.toggleLeftArea,o.toggleRightArea,o.togglePresentationMode,o.toggleMode].forEach((e=>i.addItem({command:e,category:c})))}},y="@jupyterlab/application-extension:main",f={id:y,requires:[n.IRouter,i.IWindowResolver,c.ITranslator],optional:[n.IConnectionLost],provides:n.ITreePathUpdater,activate:(e,t,a,o,l)=>{const s=o.load("jupyterlab");if(!(e instanceof n.JupyterLab))throw new Error(`${f.id} must be activated in JupyterLab.`);let d="",c="";const u=a.name;if(console.debug(`Starting application in workspace: "${u}"`),0!==e.registerPluginErrors.length){const t=v.createElement("pre",null,e.registerPluginErrors.map((e=>e.message)).join("\n"));(0,i.showErrorMessage)(s.__("Error Registering Plugins"),{message:t})}e.shell.layoutModified.connect((()=>{e.commands.notifyCommandChanged()})),e.shell.modeChanged.connect(((e,a)=>{const o=r.PageConfig.getUrl({mode:a});t.navigate(o,{skipRouting:!0}),r.PageConfig.setOption("mode",a)})),e.shell.currentPathChanged.connect(((e,a)=>{const o=a.newValue,n=o||c,i=r.PageConfig.getUrl({treePath:n});t.navigate(i,{skipRouting:!0}),r.PageConfig.setOption("treePath",n),d=o})),l=l||n.ConnectionLost,e.serviceManager.connectionFailure.connect(((e,t)=>l(e,t,o)));const p=e.serviceManager.builder,g=()=>p.build().then((()=>(0,i.showDialog)({title:s.__("Build Complete"),body:v.createElement("div",null,s.__("Build successfully completed, reload page?"),v.createElement("br",null),s.__("You will lose any unsaved changes.")),buttons:[i.Dialog.cancelButton({label:s.__("Reload Without Saving"),actions:["reload"]}),i.Dialog.okButton({label:s.__("Save and Reload")})],hasClose:!0}))).then((({button:{accept:a,actions:o}})=>{a?e.commands.execute("docmanager:save").then((()=>{t.reload()})).catch((e=>{(0,i.showErrorMessage)(s.__("Save Failed"),{message:v.createElement("pre",null,e.message)})})):o.includes("reload")&&t.reload()})).catch((e=>{(0,i.showErrorMessage)(s.__("Build Failed"),{message:v.createElement("pre",null,e.message)})}));return p.isAvailable&&p.shouldCheck&&p.getStatus().then((e=>{if("building"===e.status)return g();if("needed"!==e.status)return;const t=v.createElement("div",null,s.__("JupyterLab build is suggested:"),v.createElement("br",null),v.createElement("pre",null,e.message));(0,i.showDialog)({title:s.__("Build Recommended"),body:t,buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:s.__("Build")})]}).then((e=>e.button.accept?g():void 0))})),function(e){if(c=e,!d){const a=r.PageConfig.getUrl({treePath:e});t.navigate(a,{skipRouting:!0}),r.PageConfig.setOption("treePath",e)}}},autoStart:!0},x={id:"@jupyterlab/application-extension:context-menu",autoStart:!0,requires:[s.ISettingRegistry,c.ITranslator],activate:(e,t,a)=>{const o=a.load("jupyterlab");function n(t){const a=new u.RankedMenu(Object.assign(Object.assign({},t),{commands:e.commands}));return t.label&&(a.title.label=o.__(t.label)),a}e.started.then((()=>A.loadSettingsContextMenu(e.contextMenu,t,n,a))).catch((e=>{console.error("Failed to load context menu items from settings registry.",e)}))}},_={id:"@jupyterlab/application-extension:dirty",autoStart:!0,requires:[c.ITranslator],activate:(e,t)=>{if(!(e instanceof n.JupyterLab))throw new Error(`${_.id} must be activated in JupyterLab.`);const a=t.load("jupyterlab").__("Are you sure you want to exit JupyterLab?\n\nAny unsaved changes will be lost.");window.addEventListener("beforeunload",(t=>{if(e.status.isDirty)return t.returnValue=a}))}},w={id:"@jupyterlab/application-extension:layout",requires:[d.IStateDB,n.ILabShell,s.ISettingRegistry,c.ITranslator],activate:(e,t,a,o,i)=>{const l=e.started,s=e.commands,d=new n.LayoutRestorer({connector:t,first:l,registry:s});return d.fetch().then((t=>{a.restoreLayout(r.PageConfig.getOption("mode"),t),a.layoutModified.connect((()=>{d.save(a.saveLayout())})),A.activateSidebarSwitcher(e,a,o,i,t)})),d},autoStart:!0,provides:n.ILayoutRestorer},S={id:"@jupyterlab/application-extension:router",requires:[n.JupyterFrontEnd.IPaths],activate:(e,t)=>{const{commands:a}=e,o=t.urls.base,i=new n.Router({base:o,commands:a});return e.started.then((()=>{i.route(),window.addEventListener("popstate",(()=>{i.route()}))})),i},autoStart:!0,provides:n.IRouter},C={id:"@jupyterlab/application-extension:tree-resolver",autoStart:!0,requires:[n.IRouter],provides:n.JupyterFrontEnd.ITreeResolver,activate:(e,t)=>{const{commands:a}=e,n=new b.DisposableSet,i=new g.PromiseDelegate,l=new RegExp("/(lab|doc)(/workspaces/[a-zA-Z0-9-_]+)?(/tree/.*)?");n.add(a.addCommand(o.tree,{execute:async e=>{var t;if(n.isDisposed)return;const a=r.URLExt.queryStringToObject(null!==(t=e.search)&&void 0!==t?t:""),o=a["file-browser-path"]||"";delete a["file-browser-path"],n.dispose(),i.resolve({browser:o,file:r.PageConfig.getOption("treePath")})}})),n.add(t.register({command:o.tree,pattern:l}));const s=()=>{n.isDisposed||(n.dispose(),i.resolve(null))};return t.routed.connect(s),n.add(new b.DisposableDelegate((()=>{t.routed.disconnect(s)}))),{paths:i.promise}}},I={id:"@jupyterlab/application-extension:notfound",requires:[n.JupyterFrontEnd.IPaths,n.IRouter,c.ITranslator],activate:(e,t,a,o)=>{const n=o.load("jupyterlab"),r=t.urls.notFound;if(!r)return;const l=a.base,s=n.__("The path: %1 was not found. JupyterLab redirected to: %2",r,l);a.navigate(""),(0,i.showErrorMessage)(n.__("Path Not Found"),{message:s})},autoStart:!0},E={id:"@jupyterlab/application-extension:faviconbusy",requires:[n.ILabStatus],activate:async(e,t)=>{t.busySignal.connect(((e,t)=>{const a=document.querySelector('link[rel="icon"]'+(t?".idle.favicon":".busy.favicon"));if(!a)return;const o=document.querySelector("link"+(t?".busy.favicon":".idle.favicon"));o&&a!==o&&(a.rel="",o.rel="icon",o.parentNode.replaceChild(o,o))}))},autoStart:!0},T={id:"@jupyterlab/application-extension:shell",activate:e=>{if(!(e.shell instanceof n.LabShell))throw new Error(`${T.id} did not find a LabShell instance.`);return e.shell},autoStart:!0,provides:n.ILabShell},P={id:"@jupyterlab/application-extension:status",activate:e=>{if(!(e instanceof n.JupyterLab))throw new Error(`${P.id} must be activated in JupyterLab.`);return e.status},autoStart:!0,provides:n.ILabStatus},L={id:"@jupyterlab/application-extension:info",activate:e=>{if(!(e instanceof n.JupyterLab))throw new Error(`${L.id} must be activated in JupyterLab.`);return e.info},autoStart:!0,provides:n.JupyterLab.IInfo},M={id:"@jupyterlab/apputils-extension:paths",activate:e=>{if(!(e instanceof n.JupyterLab))throw new Error(`${M.id} must be activated in JupyterLab.`);return e.paths},autoStart:!0,provides:n.JupyterFrontEnd.IPaths},R={id:"@jupyterlab/application-extension:property-inspector",autoStart:!0,requires:[n.ILabShell,c.ITranslator],optional:[n.ILayoutRestorer],provides:l.IPropertyInspectorProvider,activate:(e,t,a,o)=>{const n=a.load("jupyterlab"),i=new l.SideBarPropertyInspectorProvider(t,void 0,a);return i.title.icon=u.buildIcon,i.title.caption=n.__("Property Inspector"),i.id="jp-property-inspector",t.add(i,"right",{rank:100}),o&&o.add(i,"jp-property-inspector"),i}},j={id:"@jupyterlab/application-extension:logo",autoStart:!0,requires:[n.ILabShell],activate:(e,t)=>{const a=new m.Widget;u.jupyterIcon.element({container:a.node,elementPosition:"center",margin:"2px 2px 2px 8px",height:"auto",width:"16px"}),a.id="jp-MainLogo",t.add(a,"top",{rank:0})}},B=[x,_,f,h,w,S,C,I,E,T,P,L,M,R,j];var A;!function(e){async function t(e){(await(0,i.showDialog)({title:e.__("Information"),body:e.__("Context menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsContextMenu=async function(e,a,o,n){var r;const l=n.load("jupyterlab");let d,c={};function u(e){var t,o;c={},e.properties.contextMenu.default=Object.keys(a.plugins).map((e=>{var t,o;const n=null!==(o=null===(t=a.plugins[e].schema["jupyter.lab.menus"])||void 0===t?void 0:t.context)&&void 0!==o?o:[];return c[e]=n,n})).concat([null!==(o=null===(t=e["jupyter.lab.menus"])||void 0===t?void 0:t.context)&&void 0!==o?o:[],e.properties.contextMenu.default]).reduceRight(((e,t)=>s.SettingRegistry.reconcileItems(e,t,!0)),[]).sort(((e,t)=>{var a,o;return(null!==(a=e.rank)&&void 0!==a?a:1/0)-(null!==(o=t.rank)&&void 0!==o?o:1/0)}))}a.transform(y,{compose:e=>{var t,a,o,n;d||(d=g.JSONExt.deepCopy(e.schema),u(d));const i=null!==(o=null===(a=null===(t=d.properties)||void 0===t?void 0:t.contextMenu)||void 0===a?void 0:a.default)&&void 0!==o?o:[],r={contextMenu:null!==(n=e.data.user.contextMenu)&&void 0!==n?n:[]},l={contextMenu:s.SettingRegistry.reconcileItems(i,r.contextMenu,!1)};return e.data={composite:l,user:r},e},fetch:e=>(d||(d=g.JSONExt.deepCopy(e.schema),u(d)),{data:e.data,id:e.id,raw:e.raw,schema:d,version:e.version})}),d=null;const p=await a.load(y),b=null!==(r=g.JSONExt.deepCopy(p.composite.contextMenu))&&void 0!==r?r:[];s.SettingRegistry.filterDisabledItems(b).forEach((t=>{i.MenuFactory.addContextItem(t,e,o)})),p.changed.connect((()=>{var e;const a=null!==(e=p.composite.contextMenu)&&void 0!==e?e:[];g.JSONExt.deepEqual(b,a)||t(l)})),a.pluginChanged.connect((async(n,r)=>{var d,u,p,m;if(r!==y){const n=null!==(d=c[r])&&void 0!==d?d:[],v=null!==(p=null===(u=a.plugins[r].schema["jupyter.lab.menus"])||void 0===u?void 0:u.context)&&void 0!==p?p:[];if(!g.JSONExt.deepEqual(n,v))if(c[r])await t(l);else{c[r]=g.JSONExt.deepCopy(v);const t=null!==(m=s.SettingRegistry.reconcileItems(v,b,!1,!1))&&void 0!==m?m:[];s.SettingRegistry.filterDisabledItems(t).forEach((t=>{i.MenuFactory.addContextItem(t,e,o)}))}}}))},e.activateSidebarSwitcher=function(e,t,a,n,i){const r="@jupyterlab/application-extension:sidebar",l=n.load("jupyterlab");let s={};const d=(e,a)=>{(0,p.each)(t.widgets("left"),(e=>{var o;s[e.id]&&"right"===s[e.id]&&(t.add(e,"right"),a&&(null===(o=a.rightArea)||void 0===o?void 0:o.currentWidget)===e&&t.activateById(e.id))})),(0,p.each)(t.widgets("right"),(e=>{var o;s[e.id]&&"left"===s[e.id]&&(t.add(e,"left"),a&&(null===(o=a.leftArea)||void 0===o?void 0:o.currentWidget)===e&&t.activateById(e.id))}))};Promise.all([a.load(r),e.restored]).then((([e])=>{s=e.get("overrides").composite||{},e.changed.connect((e=>{s=e.get("overrides").composite||{},d()})),t.layoutModified.connect(d),d(0,i)})),e.commands.addCommand(o.switchSidebar,{label:l.__("Switch Sidebar Side"),execute:()=>{const t=e.contextMenuHitTest((e=>!!e.dataset.id));if(!t)return;const o=t.dataset.id,n=document.getElementById("jp-left-stack"),i=document.getElementById(o);let l;return l=n&&i&&n.contains(i)?"right":"left",a.set(r,"overrides",Object.assign(Object.assign({},s),{[o]:l}))}})}}(A||(A={}))}}]);
//# sourceMappingURL=5311.da95dec09d12d1d6e38e.js.map