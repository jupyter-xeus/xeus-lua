{"version":3,"sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/./build/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;AAEqD;;AAEG;;AAExD;AACmD;;AAEnD,eAAe,+YAAoB;;AAEnC;AACA,EAAE,8PAAkD;AACpD,EAAE,iPAA0C;AAC5C,EAAE,2PAA+C;AACjD,EAAE,uPAA4C;AAC9C,EAAE,wOAAuC;AACzC;;AAEA;AACA;AACA,gBAAgB,uEAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,sDAAsD,OAAO,WAAW,OAAO;AAC/E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,uEAAoB;AACxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,0CAA+B;AACvD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,uCAA4B;AACpD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,wCAA6B;AACrD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,+CAAoC;AAC5D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,8CAAmC;AAC3D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,2CAAgC;AACxD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,2CAAgC;AACxD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,6CAAkC;AAC1D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,4CAAiC;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,0CAA+B;AACvD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,4CAAiC;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,6CAAkC;AAC1D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,8CAAmC;AAC3D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,6CAAkC;AAC1D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,uCAA4B;AACpD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,8CAAmC;AAC3D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,2CAAiC;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,2CAAgC;AACxD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,6CAAkC;AAC1D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,2CAAgC;AACxD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,iDAAsC;AAC9D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,2CAAgC;AACxD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,2CAAgC;AACxD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,0CAAkC;AAC1D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,0CAA+B;AACvD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,gDAAqC;AAC7D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,4CAAiC;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,4CAAiC;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,6CAAkC;AAC1D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,8CAAmC;AAC3D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,sCAA2B;AACnD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,0CAA+B;AACvD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,+CAAqC;AAC7D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA,8DAA8D,OAAO,sCAAsC,OAAO;AAClH;AACA,KAAK;;AAEL;AACA,gCAAgC,kEAAiB,GAAG;AACpD;AACA;AACA;;AAEA;AACA,SAAS,iBAAiB;;AAE1B;AACA,kBAAkB,+DAAU;AAC5B;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA,iBAAiB,SAAS;AAC1B;;AAEA","file":"build_index_js.31edfcaf1af52d609b2b.js","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\nimport { JupyterLab } from '@jupyterlab/application';\n\nimport { JupyterLiteServer } from '@jupyterlite/server';\n\n// The webpack public path needs to be set before loading the CSS assets.\nimport { PageConfig } from '@jupyterlab/coreutils';\n\nconst styles = import('./style.js');\n\nconst serverExtensions = [\n  import('@jupyterlite/javascript-kernel-extension'),\n  import('@jupyterlite/p5-kernel-extension'),\n  import('@jupyterlite/pyolite-kernel-extension'),\n  import('@jupyterlite/xeus-kernel-extension'),\n  import('@jupyterlite/server-extension')\n];\n\n// custom list of disabled plugins\nconst disabled = [\n  ...JSON.parse(PageConfig.getOption('disabledExtensions') || '[]'),\n  '@jupyterlab/apputils-extension:workspaces',\n  '@jupyterlab/application-extension:logo',\n  '@jupyterlab/application-extension:main',\n  '@jupyterlab/application-extension:tree-resolver',\n  '@jupyterlab/apputils-extension:resolver',\n  '@jupyterlab/docmanager-extension:download',\n  '@jupyterlab/filebrowser-extension:download',\n  '@jupyterlab/help-extension:about'\n];\n\nasync function createModule(scope, module) {\n  try {\n    const factory = await window._JUPYTERLAB[scope].get(module);\n    return factory();\n  } catch (e) {\n    console.warn(`Failed to create module: package: ${scope}; module: ${module}`);\n    throw e;\n  }\n}\n\n/**\n * The main entry point for the application.\n */\nasync function main() {\n  // Make sure the styles have loaded\n  await styles;\n\n  const pluginsToRegister = [];\n  const federatedExtensionPromises = [];\n  const federatedMimeExtensionPromises = [];\n  const federatedStylePromises = [];\n\n  // This is all the data needed to load and activate plugins. This should be\n  // gathered by the server and put onto the initial page template.\n  const extensions = JSON.parse(\n    PageConfig.getOption('federated_extensions')\n  );\n\n  // The set of federated extension names.\n  const federatedExtensionNames = new Set();\n\n  extensions.forEach(data => {\n    if (data.extension) {\n      federatedExtensionNames.add(data.name);\n      federatedExtensionPromises.push(createModule(data.name, data.extension));\n    }\n    if (data.mimeExtension) {\n      federatedExtensionNames.add(data.name);\n      federatedMimeExtensionPromises.push(createModule(data.name, data.mimeExtension));\n    }\n    if (data.style) {\n      federatedStylePromises.push(createModule(data.name, data.style));\n    }\n  });\n\n  /**\n   * Iterate over active plugins in an extension.\n   */\n  function* activePlugins(extension) {\n    // Handle commonjs or es2015 modules\n    let exports;\n    if (extension.hasOwnProperty('__esModule')) {\n      exports = extension.default;\n    } else {\n      // CommonJS exports.\n      exports = extension;\n    }\n\n    let plugins = Array.isArray(exports) ? exports : [exports];\n    for (let plugin of plugins) {\n      // skip the plugin (or extension) if disabled\n      if (\n        disabled.includes(plugin.id) ||\n        disabled.includes(plugin.id.split(':')[0])\n      ) {\n        continue;\n      }\n      yield plugin;\n    }\n  }\n\n  // Handle the mime extensions.\n  const mimeExtensions = [];\n  if (!federatedExtensionNames.has('@jupyterlite/iframe-extension')) {\n    try {\n      let ext = require('@jupyterlite/iframe-extension');\n      for (let plugin of activePlugins(ext)) {\n        mimeExtensions.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/json-extension')) {\n    try {\n      let ext = require('@jupyterlab/json-extension');\n      for (let plugin of activePlugins(ext)) {\n        mimeExtensions.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/vega5-extension')) {\n    try {\n      let ext = require('@jupyterlab/vega5-extension');\n      for (let plugin of activePlugins(ext)) {\n        mimeExtensions.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  // Add the federated mime extensions.\n  const federatedMimeExtensions = await Promise.allSettled(federatedMimeExtensionPromises);\n  federatedMimeExtensions.forEach(p => {\n    if (p.status === \"fulfilled\") {\n      for (let plugin of activePlugins(p.value)) {\n        mimeExtensions.push(plugin);\n      }\n    } else {\n      console.error(p.reason);\n    }\n  });\n\n  // Handled the standard extensions.\n  if (!federatedExtensionNames.has('@jupyterlite/application-extension')) {\n    try {\n      let ext = require('@jupyterlite/application-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/application-extension')) {\n    try {\n      let ext = require('@jupyterlab/application-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/apputils-extension')) {\n    try {\n      let ext = require('@jupyterlab/apputils-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/celltags-extension')) {\n    try {\n      let ext = require('@jupyterlab/celltags-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/codemirror-extension')) {\n    try {\n      let ext = require('@jupyterlab/codemirror-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/completer-extension')) {\n    try {\n      let ext = require('@jupyterlab/completer-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/console-extension')) {\n    try {\n      let ext = require('@jupyterlab/console-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/csvviewer-extension')) {\n    try {\n      let ext = require('@jupyterlab/csvviewer-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/docmanager-extension')) {\n    try {\n      let ext = require('@jupyterlab/docmanager-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/filebrowser-extension')) {\n    try {\n      let ext = require('@jupyterlab/filebrowser-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/fileeditor-extension')) {\n    try {\n      let ext = require('@jupyterlab/fileeditor-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/help-extension')) {\n    try {\n      let ext = require('@jupyterlab/help-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/imageviewer-extension')) {\n    try {\n      let ext = require('@jupyterlab/imageviewer-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/inspector-extension')) {\n    try {\n      let ext = require('@jupyterlab/inspector-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/launcher-extension')) {\n    try {\n      let ext = require('@jupyterlab/launcher-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/logconsole-extension')) {\n    try {\n      let ext = require('@jupyterlab/logconsole-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/mainmenu-extension')) {\n    try {\n      let ext = require('@jupyterlab/mainmenu-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/markdownviewer-extension')) {\n    try {\n      let ext = require('@jupyterlab/markdownviewer-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/mathjax2-extension')) {\n    try {\n      let ext = require('@jupyterlab/mathjax2-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/notebook-extension')) {\n    try {\n      let ext = require('@jupyterlab/notebook-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/rendermime-extension')) {\n    try {\n      let ext = require('@jupyterlab/rendermime-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/running-extension')) {\n    try {\n      let ext = require('@jupyterlab/running-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/settingeditor-extension')) {\n    try {\n      let ext = require('@jupyterlab/settingeditor-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/shortcuts-extension')) {\n    try {\n      let ext = require('@jupyterlab/shortcuts-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/statusbar-extension')) {\n    try {\n      let ext = require('@jupyterlab/statusbar-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/theme-dark-extension')) {\n    try {\n      let ext = require('@jupyterlab/theme-dark-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/theme-light-extension')) {\n    try {\n      let ext = require('@jupyterlab/theme-light-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/toc-extension')) {\n    try {\n      let ext = require('@jupyterlab/toc-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/tooltip-extension')) {\n    try {\n      let ext = require('@jupyterlab/tooltip-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  if (!federatedExtensionNames.has('@jupyterlab/ui-components-extension')) {\n    try {\n      let ext = require('@jupyterlab/ui-components-extension');\n      for (let plugin of activePlugins(ext)) {\n        pluginsToRegister.push(plugin);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  // Add the federated extensions.\n  const federatedExtensions = await Promise.allSettled(federatedExtensionPromises);\n  federatedExtensions.forEach(p => {\n    if (p.status === \"fulfilled\") {\n      for (let plugin of activePlugins(p.value)) {\n        pluginsToRegister.push(plugin);\n      }\n    } else {\n      console.error(p.reason);\n    }\n  });\n\n  // Load all federated component styles and log errors for any that do not\n  (await Promise.allSettled(federatedStylePromises)).filter(({status}) => status === \"rejected\").forEach(({reason}) => {\n     console.error(reason);\n    });\n\n  // create the in-browser JupyterLite Server\n  const jupyterLiteServer = new JupyterLiteServer({});\n  jupyterLiteServer.registerPluginModules(await Promise.all(serverExtensions));\n  // start the server\n  await jupyterLiteServer.start();\n\n  // retrieve the custom service manager from the server app\n  const { serviceManager } = jupyterLiteServer;\n\n  // create a full-blown JupyterLab frontend\n  const lab = new JupyterLab({\n    mimeExtensions,\n    serviceManager\n  });\n  lab.name = 'JupyterLite';\n\n  lab.registerPluginModules(pluginsToRegister);\n\n  /* eslint-disable no-console */\n  console.log('Starting app');\n  await lab.start();\n  console.log(`${lab.name} started, waiting for restore`);\n  await lab.restored;\n  console.log(`${lab.name} restored`);\n}\n\nmain();\n"],"sourceRoot":""}